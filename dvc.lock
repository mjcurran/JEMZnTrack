schema: '2.0'
stages:
  max-entropy-L2_augmented:
    cmd: "python3 -c \"from src.eval_args import eval_args; eval_args(load=True, name='max-entropy-L2_augmented').run()\"\
      \ "
    deps:
    - path: src/eval_args.py
      md5: 5fbb382f92f4010556dc30a1938dfb29
      size: 37158
    params:
      params.yaml:
        max-entropy-L2_augmented:
          data_root: ./dataset
          dataset: cifar_test
          depth: 28
          experiment: max-entropy-L2_augmented
          load_path: ./experiment
          n_steps: 20
          norm:
          print_to_log: false
          save_dir: ./experiment
          seed: 123456
          sigma: 0.03
          uncond: false
          width: 10
    outs:
    - path: nodes/max-entropy-L2_augmented/metrics_no_cache.json
      md5: 00cc7b71f3697820e14d7beca22e1474
      size: 74
  x-entropy_augmented:
    cmd: "python3 -c \"from src.eval_args import eval_args; eval_args(load=True, name='x-entropy_augmented').run()\"\
      \ "
    deps:
    - path: src/eval_args.py
      md5: 5fbb382f92f4010556dc30a1938dfb29
      size: 37158
    params:
      params.yaml:
        x-entropy_augmented:
          data_root: ./dataset
          dataset: cifar_test
          depth: 28
          experiment: x-entropy_augmented
          load_path: ./experiment
          n_steps: 20
          norm:
          print_to_log: false
          save_dir: ./experiment
          seed: 123456
          sigma: 0.03
          uncond: false
          width: 10
    outs:
    - path: nodes/x-entropy_augmented/metrics_no_cache.json
      md5: 203c1ea4130c2cb23faef6429bc28ab8
      size: 69
  train_argsL1:
    cmd: "python3 -c \"from src.train_args import train_args; train_args(load=True,\
      \ name='train_argsL1').run()\" "
    deps:
    - path: src/train_args.py
      md5: 7e82d950abe90277f60e6313b15b5461
      size: 37157
    params:
      params.yaml:
        train_argsL1:
          batch_size: 64
          ckpt_every: 1
          clf_only: false
          data_root: ./dataset
          dataset: cifar10
          depth: 28
          dropout_rate: 0.0
          eval_every: 1
          experiment: max-entropy-L1_augmented
          labels_per_class: -1
          load_path: ./experiment
          lr: 0.0001
          n_classes: 10
          n_epochs: 10
          n_steps: 20
          n_valid: 5000
          norm:
          print_every: 100
          print_to_log: false
          save_dir: ./experiment
          seed: 123456
          sigma: 0.03
          weight_decay: 0.0
          width: 10
    outs:
    - path: nodes/train_argsL1/metrics_no_cache.json
      md5: 70004155013383c24920c0d23ae05f8c
      size: 44
  train_args:
    cmd: "python3 -c \"from src.train_args import train_args; train_args(load=True,\
      \ name='train_args').run()\" "
    deps:
    - path: src/train_args.py
      md5: 7e82d950abe90277f60e6313b15b5461
      size: 37157
    params:
      params.yaml:
        train_args:
          batch_size: 64
          ckpt_every: 1
          clf_only: false
          data_root: ./dataset
          dataset: cifar10
          depth: 28
          dropout_rate: 0.0
          eval_every: 1
          experiment: x-entropy_augmented
          labels_per_class: -1
          load_path: ./experiment
          lr: 0.0001
          n_classes: 10
          n_epochs: 10
          n_steps: 20
          n_valid: 5000
          norm:
          print_every: 100
          print_to_log: false
          save_dir: ./experiment
          seed: 123456
          sigma: 0.03
          weight_decay: 0.0
          width: 10
    outs:
    - path: nodes/train_args/metrics_no_cache.json
      md5: 1a08b130e0742c66dd6e6df726d042eb
      size: 39
  XEntropyAugmented:
    cmd: "python3 -c \"from src.XEntropyAugmented import XEntropyAugmented; XEntropyAugmented(load=True,\
      \ name='XEntropyAugmented').run()\" "
    deps:
    - path: nodes/train_args/metrics_no_cache.json
      md5: 1a08b130e0742c66dd6e6df726d042eb
      size: 39
    - path: src/XEntropyAugmented.py
      md5: 7e82d950abe90277f60e6313b15b5461
      size: 37157
    params:
      params.yaml:
        XEntropyAugmented:
          trainer:
            kwargs: {}
            module: src.XEntropyAugmented
            name: Trainer
    outs:
    - path: experiment/x-entropy_augmented/last_ckpt.pt
      md5: 6f50b45b887d5b712889df5ed9a1ba91
      size: 437741469
    - path: nodes/XEntropyAugmented/metadata.json
      md5: 0d8ba848fd27930e3c502952add9bc46
      size: 67
    - path: nodes/XEntropyAugmented/metrics_no_cache.json
      md5: 0b49b902a0cbf1a1f1ce0e8519df06a1
      size: 353
  MaxEntropyL1:
    cmd: "python3 -c \"from src.MaxEntropyL1 import MaxEntropyL1; MaxEntropyL1(load=True,\
      \ name='MaxEntropyL1').run()\" "
    deps:
    - path: nodes/train_argsL1/metrics_no_cache.json
      md5: 70004155013383c24920c0d23ae05f8c
      size: 44
    - path: src/MaxEntropyL1.py
      md5: 7e82d950abe90277f60e6313b15b5461
      size: 37157
    params:
      params.yaml:
        MaxEntropyL1:
          trainer:
            kwargs: {}
            module: src.MaxEntropyL1
            name: TrainerL1
    outs:
    - path: experiment/max-entropy-L1_augmented/last_ckpt.pt
      md5: 9c9dfd92e8a03e4c6e7e39ee3378738b
      size: 437741469
    - path: nodes/MaxEntropyL1/metadata.json
      md5: 060180fe778113549482ef806daf4375
      size: 67
    - path: nodes/MaxEntropyL1/metrics_no_cache.json
      md5: 4661fceb629f58b475d28f651c63464f
      size: 355
  train_argsL2:
    cmd: "python3 -c \"from src.train_args import train_args; train_args(load=True,\
      \ name='train_argsL2').run()\" "
    deps:
    - path: src/train_args.py
      md5: 7e82d950abe90277f60e6313b15b5461
      size: 37157
    params:
      params.yaml:
        train_argsL2:
          batch_size: 64
          ckpt_every: 1
          clf_only: false
          data_root: ./dataset
          dataset: cifar10
          depth: 28
          dropout_rate: 0.0
          eval_every: 1
          experiment: max-entropy-L2_augmented
          labels_per_class: -1
          load_path: ./experiment
          lr: 0.0001
          n_classes: 10
          n_epochs: 10
          n_steps: 20
          n_valid: 5000
          norm:
          print_every: 100
          print_to_log: false
          save_dir: ./experiment
          seed: 123456
          sigma: 0.03
          weight_decay: 0.0
          width: 10
    outs:
    - path: nodes/train_argsL2/metrics_no_cache.json
      md5: d1fac001bba548cc15d2b4453c8a92ff
      size: 44
  MaxEntropyL2:
    cmd: "python3 -c \"from src.MaxEntropyL2 import MaxEntropyL2; MaxEntropyL2(load=True,\
      \ name='MaxEntropyL2').run()\" "
    deps:
    - path: nodes/train_argsL2/metrics_no_cache.json
      md5: d1fac001bba548cc15d2b4453c8a92ff
      size: 44
    - path: src/MaxEntropyL2.py
      md5: 5fbb382f92f4010556dc30a1938dfb29
      size: 37158
    params:
      params.yaml:
        MaxEntropyL2:
          trainer:
            kwargs: {}
            module: src.MaxEntropyL2
            name: TrainerL2
    outs:
    - path: experiment/max-entropy-L2_augmented/last_ckpt.pt
      md5: a6fb7b7a64087395cf1f6e413a94a2e4
      size: 437741469
    - path: nodes/MaxEntropyL2/metadata.json
      md5: ee37a8008b5ba0a8cf511bb677ac4cdb
      size: 68
    - path: nodes/MaxEntropyL2/metrics_no_cache.json
      md5: 0c012fa663f4bf20b4ec7ce208f3a8ba
      size: 355
  max-entropy-L1_augmented:
    cmd: "python3 -c \"from src.eval_args import eval_args; eval_args(load=True, name='max-entropy-L1_augmented').run()\"\
      \ "
    deps:
    - path: src/eval_args.py
      md5: 5fbb382f92f4010556dc30a1938dfb29
      size: 37158
    params:
      params.yaml:
        max-entropy-L1_augmented:
          data_root: ./dataset
          dataset: cifar_test
          depth: 28
          experiment: max-entropy-L1_augmented
          load_path: ./experiment
          n_steps: 20
          norm:
          print_to_log: false
          save_dir: ./experiment
          seed: 123456
          sigma: 0.03
          uncond: false
          width: 10
    outs:
    - path: nodes/max-entropy-L1_augmented/metrics_no_cache.json
      md5: ae7f5f90408f4881dcadda5982c84c5b
      size: 74
  EvaluateX:
    cmd: "python3 -c \"from src.EvaluateX import EvaluateX; EvaluateX(load=True, name='EvaluateX').run()\"\
      \ "
    deps:
    - path: experiment/max-entropy-L1_augmented/last_ckpt.pt
      md5: 9c9dfd92e8a03e4c6e7e39ee3378738b
      size: 437741469
    - path: experiment/max-entropy-L2_augmented/last_ckpt.pt
      md5: a6fb7b7a64087395cf1f6e413a94a2e4
      size: 437741469
    - path: experiment/x-entropy_augmented/last_ckpt.pt
      md5: 6f50b45b887d5b712889df5ed9a1ba91
      size: 437741469
    - path: nodes/MaxEntropyL1/metrics_no_cache.json
      md5: 4661fceb629f58b475d28f651c63464f
      size: 355
    - path: nodes/MaxEntropyL2/metrics_no_cache.json
      md5: 0c012fa663f4bf20b4ec7ce208f3a8ba
      size: 355
    - path: nodes/XEntropyAugmented/metrics_no_cache.json
      md5: 0b49b902a0cbf1a1f1ce0e8519df06a1
      size: 353
    - path: nodes/max-entropy-L1_augmented/metrics_no_cache.json
      md5: ae7f5f90408f4881dcadda5982c84c5b
      size: 74
    - path: nodes/max-entropy-L2_augmented/metrics_no_cache.json
      md5: 00cc7b71f3697820e14d7beca22e1474
      size: 74
    - path: nodes/x-entropy_augmented/metrics_no_cache.json
      md5: 203c1ea4130c2cb23faef6429bc28ab8
      size: 69
    - path: src/EvaluateX.py
      md5: 5fbb382f92f4010556dc30a1938dfb29
      size: 37158
    params:
      params.yaml:
        EvaluateX:
          calibration:
            kwargs: {}
            module: src.EvaluateX
            name: Calibration
    outs:
    - path: experiment/max-entropy-L1_augmented_calibration.csv
      md5: 643cdb0affc0b147a897e787bf1871c9
      size: 573
    - path: experiment/max-entropy-L2_augmented_calibration.csv
      md5: da80f5d99b5b62de1cf94338776e8cb8
      size: 810
    - path: experiment/x-entropy_augmented_calibration.csv
      md5: 833fc1e8d796d58c72c03a74bc1397c1
      size: 810
    - path: nodes/EvaluateX/metadata.json
      md5: 7800b07430e3c24fbc64a43dd282d797
      size: 67
